# name: harvest-tourapi
# on:
#   workflow_dispatch:
#   schedule:
#     - cron: "0 */6 * * *"

# jobs:
#   run:
#     runs-on: ubuntu-latest
#     env:
#       SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
#       SUPABASE_SERVICE_ROLE: ${{ secrets.SUPABASE_SERVICE_ROLE }}
#       DATA_GO_KR_TOURAPI: ${{ secrets.DATA_GO_KR_TOURAPI }}  # 인코딩/디코딩 무관. 스크립트가 정규화
#       TOUR_LANGS: ko,en
#       DAYS_AHEAD: "60"
#       AREACODES: "1,2,3,4,5,6,7,8,31,32,33,34,35,36,37,38,39"
#       TRANSFORM_LOOKBACK_HOURS: "72"

#     steps:
#       - uses: actions/checkout@v4
#       - uses: actions/setup-node@v4
#         with: { node-version: "20" }

#       - name: install deps
#         run: |
#           npm init -y
#           npm i @supabase/supabase-js@2

#       - name: harvest festivals
#         run: node scripts/harvest-tourapi-festivals.mjs
#       - name: harvest attractions
#         run: node scripts/harvest-tourapi-attractions.mjs
#       - name: harvest food
#         run: node scripts/harvest-tourapi-food.mjs
#       - name: harvest stay
#         run: node scripts/harvest-tourapi-accommodation.mjs

#       - name: transform festivals → events
#         run: node scripts/transform-events.mjs
#       - name: transform places → events
#         run: node scripts/transform-places-to-events.mjs
